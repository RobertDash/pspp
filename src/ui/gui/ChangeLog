2007-07-15  John Darrington <john@darrington.wattle.id.au>

	* compute-dialog.c: Only generate NUMERIC/STRING command if the 
	type-and-label dialog was used.

2007-07-12  John Darrington <john@darrington.wattle.id.au>

	* psppire-data-store.c: Added call to g_sheet_model_range_changed to 
	ensure that datasheet displays the current store.

	* psppire-data-store.h: Formatting tidy up.

2007-07-11  John Darrington <john@darrington.wattle.id.au>

	* compute-dialog.c : Set type-and-label dialog to sensible state, 		and made syntax generation depend upon existence of target variable.

2007-07-08  John Darrington <john@darrington.wattle.id.au>

	* data-editor.c data-editor.glade data-editor.h: Implemented 
	the "Insert Case" button/dialog.

2007-07-08  John Darrington <john@darrington.wattle.id.au>

	* goto-case-dialog.c goto-case-dialog.h (new files)
	* automake.mk data-editor.c data-editor.glade data-editor.h 
	psppire-case-file.c psppire-case-file.h psppire-data-store.c 
	psppire-data-store.h psppire.glade :  Implemented the goto-case dialog
	

2007-07-07  John Darrington <john@darrington.wattle.id.au>
	
	* psppire-data-store.c psppire-data-store.h: Made cases number from 
	1 instead of 0. 

	* psppire-data-store.c: Added a tooltip like feature to display
	the label of variables. 
	
2007-07-03  John Darrington <john@darrington.wattle.id.au>
	
	* data-editor.c data-sheet.c: Turned off autoscrolling, and 
	manually move to cell on column click instead.

2007-06-29  John Darrington <john@darrington.wattle.id.au>

	* data-editor.c data-editor.glade psppire-data-store.c 
	psppire-data-store.h: Enabled cell reference entry and datum 
	entry widgets.

2007-06-29  John Darrington <john@darrington.wattle.id.au>

	* data-editor.c data-sheet.c: Moved update_cell_ref_entry from 
	data-sheet.c to data-editor.c and made it work again.

2007-06-06  Ben Pfaff  <blp@gnu.org>

	Adapt case sources, sinks, and clients of procedure code to the
	new infrastructure.
	
	* automake.mk: Removed files.

	* flexifile-factory.c: Removed, dead code.
	* flexifile-factory.h: Ditto.

	* helper.c: Adapt to new procedure and datasheet code.
	* missing-val-dialog.c: Ditto.
	* psppire-case-file.c: Ditto.
	* psppire-data-store.c: Ditto.
	* psppire.c: Ditto.

2007-06-03  Ben Pfaff  <blp@gnu.org>

	* psppire-var-store.c (psppire_var_store_item_editable): Use
	var_is_alpha.
	
2007-05-07 John Darrington <john@darrington.wattle.id.au>

	* psppire-dialog.c psppire-dialog.h: Added "orientation" property,
        to allow dialogs to be either vertical or horizontal.

	* comments-dialog.c comments-dialog.h: New files, invoking 
	ADD DOCUMENT cmd.

2007-04-30 John Darrington <john@darrington.wattle.id.au>

	* var-display.c var-display.h variable-info-dialog.c
	variable-info-dialog.h : New files. 

	* data-editor.c : 

	* psppire-buttonbox.c psppire-buttonbox.h : Added the "buttons"
	property, and optional 	GOTO and CONTINUE buttons.

	* psppire-dialog.h: Added response codes for the new buttons.

	* psppire-var-store.c : Moved some code to var-display.[ch]

2007-04-25 John Darrington <john@darrington.wattle.id.au>

	* icons/scalable/splash.c icons/splash.png : More eye candy.
	
	* main.c psppire.h : new files.

	* psppire.c : Seperated the command line parsing and other 
	environment startup from the core psppire code.

2007-04-25 John Darrington <john@darrington.wattle.id.au>

	* icons/scalable icons/16x16: new directories.
	* psppire.c : Add new icons to factory.

	* dict-display.c: Refactor code get model from modelfilter. 
	Added cellrenderer to display icon indicating variables' types.
        Displayed the label of variables, if there is one.


2007-04-15  Ben Pfaff  <blp@gnu.org>

	* compute-dialog.c (function_list_populate): Use new accessor
	functions exported by language/expressions/public.h.

2007-04-15  Ben Pfaff  <blp@gnu.org>

	* compute-dialog.c: Make #include for parse.inc work with VPATH
	builds.

2007-04-13   John Darrington <john@darrington.wattle.id.au>
	
	* var-type-dialog.c: Added a FMT_DATETIME20 template.
	
2007-04-04   John Darrington <john@darrington.wattle.id.au>

	* compute-dialog.c compute-dialog.h: New files

	* data-editor.c data-editor.h data-editor.glade : Added Transform 
	menu, and support for Compute dialog

	* glade-register.c psppire-buttonbox.c psppire-buttonbox.h 
	  psppire-vbottonbox.c psppire-vbuttonbox.h psppire-hbuttonbox.c 
	  psppire-vbuttonbox.h : Made buttonbox an abstract base class 
         and separated it into vbuttonbox and hbuttonbox.

	* psppire-selector.c : Allowed GtkTextView to be the destination 
	widget.

	* psppire-keypad.c: Added an "erase" signal.  Fixed other 
        minor problems.

2007-04-03  Ben Pfaff  <blp@gnu.org>
	    John McCabe-Dansted <gmatht@gmail.com>

	* psppire-selector.c (psppire_selector_set_subjects): Add an
	assert that may or may not trap some Windows-related bugs.

2007-04-03   John Darrington <john@darrington.wattle.id.au>
	
	* data-editor.c data-editor.glade helper.h syntax-editor.c
	syntax-editor.h : Implemented the File->Recently_Used_ menus.


2007-03-31   John Darrington <john@darrington.wattle.id.au>
        
	* data-editor.c data-editor.glade data-editor.h dialog-common.c
	psppire-buttonbox.c psppire-dialog.c psppire-dialog.h
	psppire-selector.c psppire-selector.h psppire.c psppire.glade
	sort-cases-dialog.c sort-cases-dialog.h split-file-dialog.c
	transpose-dialog.c weight-cases-dialog.c : Fixed the Refresh
	button on all the dialogs. 
	
2007-03-31   John Darrington <john@darrington.wattle.id.au>
	
	* data-editor.c: Added hooks for the split-file-dialog

	* psppire.glade: Added the split file dialog box.
	
	* split-file-dialog.c split-file-dialog.h: New files.
	
	* dialog-common.c dialog-common.h: New files containing functions 
	which seem to be used a lot in dialog box implementations. 

	* psppire-keypad.c psppire-keypad.h: New files.  Implements keypad
	thingumy widget.  

	* psppire-selector.c: Made the orientation of the arrow a property
	of the widget, so that it can be selected from glade.

2007-03-18  Ben Pfaff  <blp@gnu.org>

	* syntax-editor-source.c (close): Rename do_close to avoid naming
	conflict with POSIX function of same name.

Tue Mar 13 17:20:05 CET 2007 John Darrington <john@darrington.wattle.id.au>
	* psppire.c:  Changed gtk_init to gtk_parse_args, followed by a delayed 	call to gdk_init, so that psppire --version will succeed, even if it 
	cannot connect to a display .
	
Wed Mar  7 19:05:12 CET 2007 John Darrington <john@darrington.wattle.id.au>

	* var-sheet.c: Replaced call to nl_langinfo with locale_charset 
	from gnulib.

Thu Feb 22 12:27:41 CET 2007 John Darrington <john@darrington.wattle.id.au>

	* data-editor.c : called new gen_quoted_string function to properly 
          quote filenames in generated syntax.

	* window-manager.c : Converted name from filename encoding to UTF8 
          before displaying in title bar.

Tue Jan 30 20:13:46 WST 2007 John Darrington <john@darrington.wattle.id.au>

	* psppire-dict.c: Call all the callbacks when a new dictionary becomes current.

	* data-editor.c: Clear existing file name on FILE NEW.

Sat Jan 27 09:48:21 WST 2007 John Darrington <john@darrington.wattle.id.au>

	* var-type-dialog.c: Fixed bugs closing window, apparent when compiled
	against gtk.2.10

Fri Jan 26 15:51:34 WST 2007 John Darrington <john@darrington.wattle.id.au>

	* psppire-var-select.c psppire-var-select.h : Deleted.

	* psppire-selector.c psppire-selector.h : New files.

	* transpose-dialog.c transpose-dialog.h : New files.

	* psppire-dict.c psppire-dict.h : Added missing GtkTreeModel 
	interface functions.

	* weight-cases-dialog.c weight-cases-dialog.h : Re-implemented, 
	using new PsppireSelector widget.

	* dict-display.c dict-display.h : New files.

	* psppire-object.c psppire-object.h : Deleted.  Seemed like a good idea at the time.

Tue Jan 23 21:10:01 WST 2007 John Darrington <john@darrington.wattle.id.au>

	* helper.c helper.h: New function execute_syntax.

	* syntax-editor.c syntax-editor.glade: Disabled data open/save menu 
	items.

	* data-editor.c data-editor.glade data-editor.h: Enabled data 
	open/save/save_as  menu-items.
	
	* window-manager.h window-manager.c (default_window_name) : New 
	function.

Sat Jan 13 07:47:26 WST 2007 John Darrington <john@darrington.wattle.id.au>

	* psppire-case-file.c psppire-data-store.c psppire-dialog.c
	psppire-dict.c psppire-var-select.c : Replaced identifier 'signal' 
	with 'signals' to avoid conflict with sysv based systems which use
	this identifer for something else.  
	Thanks to Daniel E WILLIAMS for reporting this problem.

Wed Jan 10 07:20:39 WST 2007 John Darrington <john@darrington.wattle.id.au>

	* psppire-case-file.c : Make sure there is always a valid flexifile

	* psppire-data-store.c : assertions.

	* psppire.c: Ignore replace source callbacks if the new source is 
	  not of storiage_source_class

	* syntax-editor.c: Close/Abort source after parsing is complete.

Sun Jan  7 08:38:29 WST 2007 John Darrington <john@darrington.wattle.id.au>

	* psppire-dict.c: Add FILTER_CHANGED and SPLIT_CHANGED signals 
	corresponding to the callbacks in src/data/dictionary.c

	* data-editor.c : Connect functions to the FILTER_CHANGED and 
	SPLIT_CHANGED signals to update the status bar accordingly.

Mon Jan  1 10:37:07 WST 2007 John Darrington <john@darrington.wattle.id.au>

	* psppire-case-file.c psppire-case-file.h: Changed the backend 
	semantics. An object is now created without any backend.  A new function        ( psppire_case_file_replace_flexifile ) sets the backend to use.

	* psppire-data-store.c : Updated callers accordingly.

	* psppire-dict.c psppire-dict.h : New function 
	(psppire_dict_replace_dictionary) .

	* psppire.c : Updated to use new dataset replace_{source, dictionary} 
	callbacks.

	* syntax-editor.c : parses in state CMD_STATE_DATA unless there are 
	no variables in the dictionary.

Mon Dec 25 12:38:24 WST 2006 John Darrington <john@darrington.wattle.id.au>

	* data-editor.c data-editor.glade: Enabled deleting of variables from
	the variable sheet.

Mon Dec 25 11:28:29 WST 2006 John Darrington <john@darrington.wattle.id.au>

	* psppire-dict.c psppire-dict.h: Removed explicit signal emit calls.
	These are not required, now that src/data/dictionary.c has callbacks

Mon Dec 25 08:49:57 WST 2006 John Darrington <john@darrington.wattle.id.au>

	* var-sheet.c val-labs-dialog.c val-labs-dialog.h: Fixed bug in value
	labels dialog box.

Sun Dec 17 08:26:10 WST 2006 John Darrington <john@darrington.wattle.id.au>

	* syntax-editor-source.c syntax-editor-source.h syntax-editor.h: 
	New files. 

	* message-dialog.c :  Now reports the filename and line number in 
	error messages.
	
	* psppire.c psppire.glade syntax-editor.c: Added the ability to run 
	syntax from the syntax editor.

	
Sat Dec 16 14:13:07 2006  Ben Pfaff  <blp@gnu.org>

	* psppire-data-store.c (geometry_get_justification): Don't assume
	that ALIGN_* and GTK_JUSTIFY_* values coincide.

Sat Dec 16 14:10:43 2006  Ben Pfaff  <blp@gnu.org>

	* psppire-var-store.c (text_for_column): Adjust to account for new
	values of the MEASURE_* enums.

	* var-sheet.c (change_measure): Ditto.

Sat Dec 16 12:24:35 WST 2006 John Darrington <john@darrington.wattle.id.au>

	* psppire-variable.c psppire-variable.h: Deleted.

	* psppire-dict.c psppire-dict.h: Removed the caching of the variable 
	    data, which is now unecessary because src/data/vardict.h maintains 
	    an association between variables and their dictionary.
	
	* data-sheet.c menu-actions.c missing-val-dialog.c 
	  missing-val-dialog.h psppire-data-store.c 
	  psppire-var-store.c psppire-var-store.h 
	  sort-cases-dialog.c val-labs-dialog.c val-labs-dialog.h 
	  var-sheet.c var-type-dialog.c var-type-dialog.h: Dealt with the 
	    consequences of deleting psppire-variable.[ch]. 


Sat Dec  9 20:03:04 2006  Ben Pfaff  <blp@gnu.org>

	* var-type-dialog.c (var_type_dialog_create): Use
	fmt_dollar_template from data/format.c.
	(dollar_format_template) Removed.

Sat Dec  9 07:19:53 WST 2006 John Darrington <john@darrington.wattle.id.au>

	* syntax-editor.c : New file.

Tue Oct 31 19:25:31 2006  Ben Pfaff  <blp@gnu.org>

	* var-type-dialog.c: Add missing "#include <config.h>".

	* psppire.c: Ditto.

Mon Jul 17 18:21:29 WST 2006 John Darrington <john@darrington.wattle.id.au>

    * automake.mk menu-actions.c psppire-case-file.c psppire-case-file.h
    psppire-data-store.c psppire-dict.c psppire-dict.h psppire-variable.c
    psppire.c psppire.glade: Adjusted code to use the new flexifile object.

Sat Jul 15 11:27:15 WST 2006 John Darrington <john@darrington.wattle.id.au>

   * psppire.c psppire.glade automake.mk icons/* : Added toolbar icons where 
   	there's no suitable gtk stock icon.

Tue Jul  4 09:08:38 WST 2006 John Darrington <john@darrington.wattle.id.au>
	
   * psppire.c: Fixed --help and --version options.
	
Sat Jun 24 16:56:22 WST 2006 John Darrington <john@darrington.wattle.id.au>

   * menu-actions.c: Added goto case and sort cases dialogs.

   * psppire-case-file.c psppire-case-file.h: Added sort function.

   * psppire-data-store.c psppire-variable.c psppire-variable.h: 
     Renamed  psppire_variable_get_index to psppire_variable_get_fv and
     dealt with the consequences.  Added a psppire_variable_get_index
     function which actually does what the name suggests.

   * psppire-dict.c psppire-dict.h: Implemented GtkTreeModel interface,
     which allows a dictionary to be displayed in a GtkTreeView.	

   * psppire.glade: Added dialog boxes for Goto Case and Sort Case.	

   * sort-cases-dialog.c sort-cases-dialog.h (new files).

Mon Jun 19 18:10:53 WST 2006 John Darrington <john@darrington.wattle.id.au>

   * psppire-case-file.c psppire-case-file.h (new files)
   
   * automake.mk data-sheet.c data-sheet.h menu-actions.c
   psppire-data-store.c psppire-data-store.h psppire-dict.c
   psppire-dict.h psppire-var-store.c psppire.c
   
     Replaced psppire-case-array.c  with psppire-case-file.c, so as to
     allow an arbitrary number of cases to be represented.
   
Sun Jun  4 15:50:28 WST 2006 John Darrington <john@darrington.wattle.id.au>

   * psppire-var-store.c, psppire.c, var-sheet.c :  Unlimited the number of 
   variables that can be displayed. Minor i18n issues.

Tue May 30 19:53:35 WST 2006 John Darrington <john@darrington.wattle.id.au>

   * menu-actions.c menu-actions.h psppire.c: Fixed up load/new 
   interactions with startup.

   * psppire-data-store.c: Fixed bad i18n call.

   * pspppire-var-store.c, psppire-var-store.h: constness.

   * helper.c: Implemented proper way to convert from PSPP to UTF8 encoding.


Sat May 27 16:25:38 WST 2006 John Darrington <john@darrington.wattle.id.au>

   * customentry.c data-sheet.c menu-actions.c message-dialog.c 
     missing-val-dialog.c psppire-data-store.c psppire-var-store.c 
     psppire.c psppire.glade var-sheet.c: Fixed internationalisation.

Thu May 25 18:01:17 WST 2006 John Darrington <john@darrington.wattle.id.au>

   * psppire-var-store.c: Converted strings to utf8 and returned them on the
   heap.

Sat May 20 21:08:18 WST 2006 John Darrington <john@darrington.wattle.id.au>

   * data-sheet.c, menu-actions.c menu-actions: Fixed data sheet so that
   active cell is never on a deleted variable.

   * psppire-data-store.c psppire-data-store.h:  Added get_var_count and
   get_case_count functions.

   * psppire-dict.c: removed VARIABLE_DELETED (singular) signal.

   * psppire.c: Allowed user to specify *.sav file on command line.

Mon May 15 20:01:25 WST 2006 John Darrington <john@darrington.wattle.id.au>
	
	* menu-actions.c psppire-case-array.c psppire-case-array.h
	  psppire-data-store.c  psppire-dict.c psppire-dict.h 
	  psppire-variable.c:

	  Initialised new cases to SYSMIS/blank when inserting in data sheet.

Sat May 13 08:00:50 WST 2006 John Darrington <john@darrington.wattle.id.au>

	* data-sheet.c, helper.c, helper.h, psppire-data-store.c, 
          psppire-var-store.c:
	  
	  Set free_strings flag so that the gtksheet frees the string data 
	  when it's done with them.

Thu May 11 22:25:49 WST 2006 John Darrington <john@darrington.wattle.id.au>

	* data-sheet.c helper.c helper.h psppire-data-store.c psppire-var-store.c 
	psppire.c: Converted strings to utf8 before passing to gtksheet.

	* psppire-dict.c: Changed buffer to more reasonable length

	* var-sheet.c: Changed maximum string length to use macro from
	data/values.h

	
Sun May  7 10:07:28 WST 2006 John Darrington <john@darrington.wattle.id.au>

	* psppire-data-store.c: Fixed buglet initialising string members.

Thu May  4 18:04:04 WST 2006 John Darrington <john@darrington.wattle.id.au>

	* message-dialog.c message-dialog.h: Added simple queuing to messages
	reported, and ensure that dialog boxes dont appear when pointer grab
	is active.

	* psppire-data-store.c: Fix overflow on very long string variables.

	* automake.mk: Fix broken dependency.


Tue Apr 25 11:08:04 2006  Ben Pfaff  <blp@gnu.org>

	Finish reforming error message support.  In this phase, move
	message.c into libpspp.
	
	* automake.mk: (src_ui_gui_psppire_SOURCES) Remove src/message.c.

Tue Apr 25 10:56:53 2006  Ben Pfaff  <blp@gnu.org>

	Continue reforming error message support.  In this phase, drop
	actual message printing from core code, substituting a callback,
	and add the callback to each UI.  Also, move verbose_msg() into
	its own module.

	* automake.mk: (src_ui_gui_psppire_SOURCES) Add src/message.c.

	* message-dialog.c: (message_dialog_init) New function.
	(vmsg) Rename handle_msg(), rewrite as callback function.
	(msg) Removed.
	(msg_emit) Removed.
	(msg_assert_fail) Removed.
	(verbose_msg) Removed.

	* psppire.c: (main) Call message_dialog_init().

Sun Apr 23 22:07:49 2006  Ben Pfaff  <blp@gnu.org>

	Continue reforming error message support.  In this phase, get rid
	of message "titles" and put the message text in `struct error'.
	Now `struct error' encapsulates a message more properly.
	
	* message-dialog.c: (err_vmsg) Rename err_msg().  Updated
	interface.

Sun Apr 16 20:45:35 2006  Ben Pfaff  <blp@gnu.org>

	Continue reforming error message support.  In this phase, we
	divide the classification of messages along "category" and
	"severity" axes.

	* message-dialog.c: (vmsg) Use severity and category in
	straightforward fashion instead of the less obvious "class".
	(err_vmsg) Construct class before passing along to vmsg().

Sun Apr 16 16:06:54 2006  Ben Pfaff  <blp@gnu.org>

	Continue reforming error message support.  In this phase, we get
	rid of VM() and the other msg() support for "verbosity", replacing
	it by a new function verbose_msg().

	* message-dialog.c: (verbose_msg) New function.  
	(err_cond_fail) Removed (dead code).
	(err_failure) Removed (dead code).

Sun Apr 16 11:53:25 2006  Ben Pfaff  <blp@gnu.org>

	Start reforming error message support.  In this phase, we get rid
	of "installation errors" and change all uses of msg() in the
	output drivers to uses of error() or error_at_line().

	* message-dialog.c: (vmsg) Removed IE, IS support.

Mon Mar 13 16:42:44 WST 2006 John Darrington <john@darrington.wattle.id.au>

    * psppire.c: Supported (sort of) the --help and --version options.

    * Rename error-dialog.[ch] -> message-dialog.[ch]

    * Moved code from the psppire module.
	
Sat Jan 28 16:22:23 WST 2006 John Darrington <john@darrington.wattle.id.au>

    * Separated the data out of the GtkSheet.

Tue Nov  2 19:00:28 WST 2004 John Darrington <john@darrington.wattle.id.au>

    * Very first incarnation.
