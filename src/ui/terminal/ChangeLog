Wed Apr 26 13:34:54 2006  Ben Pfaff  <blp@gnu.org>

	Improve command name completion in readline.
	
	* read-line.c (readln_initialize): Set up readline to only break
	words for completion at new-line.  That way we can complete a
	whole command name.  Also, set rl_attempted_completion_function
	instead of rl_completion_entry_function so we can disable
	completing on file names, which is usually not what we want in
	PSPP.

Wed Apr 26 13:31:00 2006  Ben Pfaff  <blp@gnu.org>

	Improve the way we handle the various parsing "states".  Until now
	we've hard-coded the state transitions in the command definition
	file, but that's error-prone and, worse, it's redundant--we can
	figure out what state we're in anyhow.  We can cleanly handle
	INPUT PROGRAM and FILE TYPE with a nested command-processing loop.
	
	* automake.mk (src_ui_terminal_pspp_LDADD): Move libui earlier to
	avoid link errors.

	* main.c (main): Handle new CMD_* results.
	(execute_command) Move most per-command actions into cmd_parse().
	(handle_error) Removed.  cmd_parse() handles command failure.

Tue Apr 25 11:08:17 2006  Ben Pfaff  <blp@gnu.org>

	Finish reforming error message support.  In this phase, move
	message.c into libpspp.
	
	* automake.mk: Remove message.c from sources.

Tue Apr 25 10:58:19 2006  Ben Pfaff  <blp@gnu.org>

	Continue reforming error message support.  In this phase, drop
	actual message printing from core code, substituting a callback,
	and add the callback to each UI.  Also, move verbose_msg() into
	its own module.

	* automake.mk (src_ui_terminal_libui_a_SOURCES): Add msg-ui.c,
	msg-ui.h.

	* command-line.c: (parse_command_line) Call
	verbose_increment_level() instead of increment err_verbosity
	directly, now that we have a little abstraction.

	* msg-ui.c: New file.

	* msg-ui.h: New file.

	* main.c: (main) Call msg_ui_init().  Use any_errors().
	(terminate) Call msg_ui_done().  Make termination order more
	rational.

	* read-line.c: (readln_read) Use reset_msg_count() now we have a
	little abstraction.

Tue Apr 25 09:39:46 2006  Ben Pfaff  <blp@gnu.org>

	* main.c: (terminate) Mark static and NO_RETURN.  If called
	recursively, which can only happen via signal, just exit instead
	of trying to gracefully shut down.	

Fri Mar 31 10:33:37 2006  Ben Pfaff  <blp@gnu.org>

	* command-line.c: (var pre_syntax_message) -d and -u are no longer
	supported.

Sat Mar 11 14:18:39 WST 2006 John Darrington <john@darrington.wattle.id.au>

	* automake.mk: Moved the pspp binary here.

Thu Mar  2 08:40:33 WST 2006 John Darrington <john@darrington.wattle.id.au>
	
	* Moved files from src directory
