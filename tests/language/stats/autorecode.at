AT_BANNER([AUTORECODE procedure])

AT_SETUP([AUTORECODE numbers and short strings])
AT_DATA([autorecode.sps],
  [data list /X 1-5(a) Y 7.
begin data.
lasdj 1
asdfk 0
asdfj 2
asdfj 1
asdfk 2
asdfj 9
lajks 9
asdfk 0
asdfk 1
end data.

autorecode x y into A B/descend.

list.
compute Z=trunc(y/2).
autorecode z into W.
list.
])
AT_CHECK([pspp -O format=csv autorecode.sps], [0],
  [Table: Reading 1 record from INLINE.
Variable,Record,Columns,Format
X,1,1-  5,A5
Y,1,7-  7,F1.0

Table: Data List
X,Y,A,B
lasdj,1,1.00,3.00
asdfk,0,3.00,4.00
asdfj,2,4.00,2.00
asdfj,1,4.00,3.00
asdfk,2,3.00,2.00
asdfj,9,4.00,1.00
lajks,9,2.00,1.00
asdfk,0,3.00,4.00
asdfk,1,3.00,3.00

Table: Data List
X,Y,A,B,Z,W
lasdj,1,1.00,3.00,.00,1.00
asdfk,0,3.00,4.00,.00,1.00
asdfj,2,4.00,2.00,1.00,2.00
asdfj,1,4.00,3.00,.00,1.00
asdfk,2,3.00,2.00,1.00,2.00
asdfj,9,4.00,1.00,4.00,3.00
lajks,9,2.00,1.00,4.00,3.00
asdfk,0,3.00,4.00,.00,1.00
asdfk,1,3.00,3.00,.00,1.00
])
AT_CLEANUP
